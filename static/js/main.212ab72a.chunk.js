(this.webpackJsonpdevschool=this.webpackJsonpdevschool||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),m=a.n(s),l=(a(24),a(3)),i=a(14),c=a(15),o=a(16),d=a(18),u=a(17),b=(a(25),a(2)),h=a.n(b),f=function(e){return r.a.createElement("div",{className:"col-md-6",key:e.member.id},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},e.member.id),r.a.createElement("p",{className:"card-text"},"Nama Depan : ",e.member.first_name),r.a.createElement("p",{className:"card-text"},"Nama Belakang : ",e.member.last_name),r.a.createElement("button",{className:"btn btn-primary btn-sm mr-3",onClick:e.handleEdit.bind(void 0,e.member)},"Edit"),r.a.createElement("button",{className:"btn btn-danger btn-sm mr-3",onClick:e.handleDelete.bind(void 0,e.member.id)},"Hapus"))))},p=function(e){return e.members.map((function(t){return r.a.createElement(f,{member:t,handleEdit:function(t){return e.handleEdit(t)},handleDelete:function(t){return e.handleDelete(t)}})}))},E=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nama Depan"),r.a.createElement("input",{className:"form-control",name:"first_name",value:e.first_name,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nama Belakang"),r.a.createElement("input",{className:"form-control",name:"last_name",value:e.last_name,onChange:e.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:e.btnDisabled},r.a.createElement("span",{className:e.btnLoading}),"Submit"))},v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(i.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.setState({btnDisabled:!0,btnLoading:"spinner-border spinner-border-sm"});var t={first_name:n.state.first_name,last_name:n.state.last_name};if("create"===n.state.formStatus){n.addMember("https://reqres.in/api/users",t)}else{n.editMember("https://reqres.in/api/users",t)}},n.addMember=function(e,t){h.a.post(e,t).then((function(e){var t=Object(l.a)(n.state.members);t.push(e.data),n.setState({members:t,btnDisabled:!1,btnLoading:"",first_name:"",last_name:""})})).catch((function(e){console.log(e)}))},n.editMember=function(e,t){h.a.put(e,t).then((function(e){var t=Object(l.a)(n.state.members),a=t.findIndex((function(e){return e.id===n.state.memberIdSelected}));console.log(t),console.log(a),t[a].first_name=e.data.first_name,t[a].last_name=e.data.last_name,n.setState({members:t,first_name:"",last_name:"",formStatus:"create",btnLoading:"",btnDisabled:!1,memberIdSelected:null})})).catch((function(e){console.log(e)}))},n.handleEdit=function(e){n.setState({first_name:e.first_name,last_name:e.last_name,formStatus:"edit",memberIdSelected:e.id})},n.handleDelete=function(e){h.a.delete("https://reqres.in/api/users/2").then((function(t){if(204===t.status){var a=Object(l.a)(n.state.members),r=a.findIndex((function(t){return t.id===e}));a.splice(r,1),n.setState({members:a})}})).catch((function(e){console.log(e)}))},n.state={members:[],first_name:"",last_name:"",formStatus:"create",memberIdSelected:null,btnDisabled:!1,btnLoading:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://reqres.in/api/users?page=2").then((function(t){e.setState({members:t.data.data}),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container my-3"},r.a.createElement("h1",{className:"text-center"},"Devschool Team"),r.a.createElement("div",{className:"row p-3 alert-secondary border rounded-sm my-3"},r.a.createElement("div",{className:"col-md-6 alert-info rounded-sm py-3"},r.a.createElement("h3",null,"Form ",this.state.formStatus," Team"),r.a.createElement(E,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,first_name:this.state.first_name,last_name:this.state.last_name,btnDisabled:this.state.btnDisabled,btnLoading:this.state.btnLoading})),r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("h3",null,"Team"),r.a.createElement("div",{className:"row"},r.a.createElement(p,{members:this.state.members,handleEdit:function(t){return e.handleEdit(t)},handleDelete:function(t){return e.handleDelete(t)}})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.212ab72a.chunk.js.map